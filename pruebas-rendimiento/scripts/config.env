#!/bin/bash
# Archivo de configuración para pruebas de rendimiento
# Sistema POS y Gestión Integral

# ==============================================
# URLS DE SERVICIOS
# ==============================================
FRONTEND_URL="http://localhost:5173"
BACKEND_URL="http://localhost:8084"
ML_SERVICE_URL="http://localhost:8004"

# ==============================================
# CONFIGURACIÓN DE BASE DE DATOS
# ==============================================
DB_CONTAINER="pos_database"
DB_USER="postgres"
DB_NAME="pos_finanzas"

# ==============================================
# CONFIGURACIÓN DE PRUEBAS
# ==============================================
ITERATIONS=20                          # Número de iteraciones por prueba
WARMUP_ITERATIONS=3                    # Iteraciones de calentamiento (se descartan)

# Configuración de pruebas concurrentes
CONCURRENT_USERS_FRONTEND=10           # Usuarios simultáneos para frontend
CONCURRENT_USERS_BACKEND=10            # Usuarios simultáneos para backend API
CONCURRENT_USERS_ML=5                  # Usuarios simultáneos para ML (más pesado)
CONCURRENT_QUERIES_BD=20               # Queries simultáneas en PostgreSQL

# Configuración de carga sostenida
SUSTAINED_LOAD_BACKEND_RPS=10          # Requests por segundo para backend
SUSTAINED_LOAD_BACKEND_DURATION=60     # Duración en segundos
SUSTAINED_LOAD_BD_RPS=20               # Queries por segundo para BD
SUSTAINED_LOAD_BD_DURATION=30          # Duración en segundos
SUSTAINED_LOAD_ML_RPS=2                # Predicciones por segundo
SUSTAINED_LOAD_ML_DURATION=60          # Duración en segundos

# ==============================================
# CREDENCIALES DE PRUEBA
# ==============================================
TEST_USER="Tona"
TEST_PASSWORD="123456"

# ==============================================
# DIRECTORIOS
# ==============================================
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
BASE_DIR="$(dirname "$SCRIPT_DIR")"
OUTPUT_DIR="$BASE_DIR/resultados"
LOGS_DIR="$BASE_DIR/logs"
DOCS_DIR="$BASE_DIR/docs"

# ==============================================
# TIMESTAMP Y NOMBRE DE ARCHIVOS
# ==============================================
TIMESTAMP=$(date +%Y%m%d_%H%M%S)
LOG_FILE="$LOGS_DIR/ejecucion_$TIMESTAMP.log"

# ==============================================
# COLORES PARA OUTPUT (OPCIONAL)
# ==============================================
COLOR_RESET="\033[0m"
COLOR_INFO="\033[1;36m"      # Cyan
COLOR_SUCCESS="\033[1;32m"   # Verde
COLOR_WARNING="\033[1;33m"   # Amarillo
COLOR_ERROR="\033[1;31m"     # Rojo
COLOR_BOLD="\033[1m"

# ==============================================
# CONFIGURACIÓN DE CURL
# ==============================================
CURL_TIMEOUT=30                        # Timeout en segundos
CURL_MAX_TIME=60                       # Tiempo máximo de ejecución

# ==============================================
# VARIABLE GLOBAL PARA TOKEN JWT
# ==============================================
TOKEN=""

# ==============================================
# CONFIGURACIÓN DE PAUSA ENTRE PRUEBAS
# ==============================================
PAUSE_BETWEEN_TESTS=0.1               # Pausa en segundos entre requests individuales
PAUSE_BETWEEN_ITERATIONS=0.5          # Pausa entre iteraciones concurrentes
